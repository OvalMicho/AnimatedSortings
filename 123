import RPi.GPIO as GPIO
GPIO.setwarnings(False)

GPIO.setmode(GPIO.BCM)

GPIO.setup(18,GPIO.OUT)
GPIO.setup(5,GPIO.OUT)
GPIO.setup(14,GPIO.IN)

def duty_cycle(duty):
    while True:
        GPIO.output(5,GPIO.input(14))

# GPIO.output(20,GPIO.input(14))

try:
    p = GPIO.PWM(18, 0.5)
    p.start(50)
    while True:
        duty = int(input("Введите значение duty cycle:"))
        p.ChangeDutyCycle(duty)
        duty_cycle(duty)
    p.stop()
            # time.sleep(t)

finally:
    GPIO.output(5,0)
    GPIO.cleanup() 


#https://www.electronicwings.com/raspberry-pi/raspberry-pi-pwm-generation-using-python-and-c 
